{% extends "main/base.html" %}
{% load crispy_forms_tags %}
{% block title %}{{ aquarium.name }}{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mt-4">{{aquarium.name}}</h1>
    <p>Manage your aquarium information.</p>
    {% if selectedaquarium %}
    <div class="row">
        
        <div class="card col-md-4 mb-4">
                
            <div class="card-body">
                <h5 class="card-title">{{ aquarium.name }}</h5>
                <p class="card-text">Type: {{ aquarium.type }}</p>
                <p class="card-text">Size: {{ aquarium.size }} gallons</p>
                <p class="card-text">Start Date: {{ aquarium.start_date }}</p>
            </div>
            <div class="card-footer" style="display: flex; justify-content: space-between;">
                    <button class="btn btn-secondary" onclick="toggleForm()">Edit</button>
                    <button type="submit" class="btn btn-danger">Delete</button>   
        </div>       
    </div>
    
    {% else %}
    
        <div class="col-md-12">
            <p>No aquariums found. Please search a valid aquarium.</p>
            
        </div>
    {% endif %}
        <section>
            <button onclick="toggleForm()" class="btn btn-primary">ADD</button>
            <div id="addAquarium" style="display: none; margin-top: 1rem;">
            <form method="POST" action="{% url 'myaquariums' %}">
                <h2>Aquarium Details</h2>
                {% csrf_token %}
                {{ form|crispy }}
                <button type="submit" class="btn btn-primary">Register Aquarium</button>
            </form>
            </div>
        </section>

</div>
{% endblock %}
{% block script %}
<script>
    function toggleForm() {
        const formDiv = document.getElementById('addAquarium');
        formDiv.style.display = formDiv.style.display === "none" ? "block" : "none";
    }
</script>
{% endblock %}